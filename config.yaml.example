# RIPE Atlas exporter configuration example
# Copy this file to config.yaml and adjust to your needs

web:
  listen_address: ":9400"
  telemetry_path: "/metrics"

cache:
  ttl: "3600s"       # Cache TTL
  cleanup: "300s"    # Cache cleanup interval

timeout: "60s"        # Timeout for metrics requests
worker:
  count: 8            # Number of goroutines retrieving probe info

streaming:
  enabled: true
  buffer_size: 100

profiling:
  enabled: false

metrics:
  go_enabled: true
  process_enabled: true

log:
  level: info

tls:
  enabled: false
  cert_file: ""
  key_file: ""

health:
  max_data_age: "0s" # 0s disables freshness check

# Measurements to monitor (examples)
measurements:
  - id: 8310237 # DNS example
  - id: 1001    # Ping example
  - id: 5001    # Traceroute example
  # - id: 1748719 # HTTP example
  # - id: 1000001 # NTP example

# Filter out invalid results (recommended)
filter_invalid_results: true

# Optional: Configure histogram buckets for round trip time metrics
# Enables percentile calculations (p50, p90, p99, etc)
histogram_buckets:
  dns:
    rtt:
      - 5.0
      - 10.0
      - 25.0
      - 50.0
      - 100.0
      - 250.0
      - 500.0
      - 1000.0
  ping:
    rtt:
      - 5.0
      - 10.0
      - 25.0
      - 50.0
      - 100.0
      - 250.0
      - 500.0
  traceroute:
    rtt:
      - 10.0
      - 25.0
      - 50.0
      - 100.0
      - 250.0
      - 500.0
      - 1000.0
  http:
    rtt:
      - 50.0
      - 100.0
      - 250.0
      - 500.0
      - 1000.0
      - 2500.0
      - 5000.0

# Optional: Filter out results older than specified duration
# Useful for removing stale results from non-participating probes
# Examples: 10m, 30m, 1h, 24h
# Default: 0 (disabled)
max_result_age: "30m"
